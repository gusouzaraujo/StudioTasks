<h2 class="title">MINHAS TAREFAS</h2>

<ul>
  <li *ngFor="let task of tasks" class="task-item">
    <div class="text-left"> 
      <span
        *ngIf="!task.editing"
        [ngClass]="{ 'completed-task': task.completed }"
        (click)="startEdit(task)">
        {{ task.title }}
      </span>

      <input
        *ngIf="task.editing"
        type="text"
        [(ngModel)]="task.editingTitle"
        (blur)="cancelEdit(task)"
        (keyup.enter)="saveEdit(task)"
        class="edit-input"
      />
    </div>

    <div class="text-right">
      <span *ngIf="task.completed" class="completed-status">CONCLU√çDA</span>
      <span *ngIf="!task.completed" class="pending-status">PENDENTE</span>

      <button class="toggle-btn" (click)="toggleTaskStatus(task)">
        {{ task.completed ? '‚úñ' : '‚úî' }}
      </button>
    </div>

    <!-- üîπ ALTERADO AQUI -->
    <button
      class="delete-btn"
      (click)="askDelete(task)">
      <img src="lixeira.png" alt="Excluir tarefa" class="delete-icon"/>
    </button>
  </li>
</ul>

<!-- üîπ MODAL ADICIONADA -->
<div *ngIf="confirmingDeleteId !== null" class="modal-overlay">
  <div class="modal-box">
    <p class="modal-text">TEM CERTEZA?</p>
    <div class="modal-buttons">
      <button class="confirm-yes" (click)="confirmDelete()">SIM</button>
      <button class="confirm-no" (click)="cancelDelete()">N√ÉO</button>
    </div>
  </div>
</div>